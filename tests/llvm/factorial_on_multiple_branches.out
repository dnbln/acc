STDOUT:
CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  %4 = const.i64 1
  return %4


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %8 = const.i64 1
  %9 = sub %0, %8
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  %4 = const.i64 1
  return %4


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %8 = const.i64 1
  %9 = sub %0, %8
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  %4 = const.i64 1\n  return %4\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %8 = const.i64 1\n  %9 = sub %0, %8\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  %4 = const.i64 1\n  return %4\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %8 = const.i64 1\n  %9 = sub %0, %8\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Hoist Pass
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  %4 = const.i64 1
  return %4


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %8 = const.i64 1
  %9 = sub %0, %8
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Hoist Pass
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Hoist Pass:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  %4 = const.i64 1\n  return %4\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %8 = const.i64 1\n  %9 = sub %0, %8\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  return %2


bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  return %2\n"];
    before_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var n]\n  %2 = const.i64 1\n  %3 = leq %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  return %2\n"];
    after_bb2 [label="bb2:\n  %6 = function v1 [var factorial]\n  %9 = sub %0, %2\n  %10 = call %6(%9)\n  %11 = mul %0, %10\n  return %11\n"];
  }

}

CFG for function factorial:
bb0: % preds = []
  %0 = param[0] [var n]
  %2 = const.i64 1
  %3 = leq %0, %2
  br_cond %3 ? bb1 : bb2

bb1: % preds = [bb0]
  return %2

bb2: % preds = [bb0]
  %6 = function v1 [var factorial]
  %9 = sub %0, %2
  %10 = call %6(%9)
  %11 = mul %0, %10
  return %11


CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %29 = Φ(2@bb1, 3@bb2) [var result]
  br bb4


bb4: % preds = [bb3, bb6]
  %30 = Φ(0@bb3, %17@bb6) [var i]
  %33 = Φ(%29@bb3, %13@bb6) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb7


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  br bb6


bb6: % preds = [bb5]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb7: % preds = [bb4]
  %19 = const.i64 10
  %20 = lt %0, %19
  br_cond %20 ? bb8 : bb9


bb8: % preds = [bb7]
  %21 = function v1 [var factorial]
  %23 = call %21(%33)
  return %23


bb9: % preds = [bb7]
  %24 = function v1 [var factorial]
  %26 = call %24(%33)
  return %26



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %29 = Φ(2@bb1, 3@bb2) [var result]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%29@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %19 = const.i64 10
  %20 = lt %0, %19
  br_cond %20 ? bb7 : bb8


bb7: % preds = [bb6]
  %21 = function v1 [var factorial]
  %23 = call %21(%33)
  return %23


bb8: % preds = [bb6]
  %24 = function v1 [var factorial]
  %26 = call %24(%33)
  return %26



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb3\n"];
    before_bb1 -> before_bb3;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  %29 = Φ(2@bb1, 3@bb2) [var result]\n  br bb4\n"];
    before_bb3 -> before_bb4;
    before_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb6) [var i]\n  %33 = Φ(%29@bb3, %13@bb6) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb7\n"];
    before_bb4 -> before_bb5 [color=green];
    before_bb4 -> before_bb7 [color=red];
    before_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    before_bb6 -> before_bb4;
    before_bb7 [label="bb7:\n  %19 = const.i64 10\n  %20 = lt %0, %19\n  br_cond %20 ? bb8 : bb9\n"];
    before_bb7 -> before_bb8 [color=green];
    before_bb7 -> before_bb9 [color=red];
    before_bb8 [label="bb8:\n  %21 = function v1 [var factorial]\n  %23 = call %21(%33)\n  return %23\n"];
    before_bb9 [label="bb9:\n  %24 = function v1 [var factorial]\n  %26 = call %24(%33)\n  return %26\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb3\n"];
    after_bb1 -> after_bb3;
    after_bb2 [label="bb2:\n  br bb3\n"];
    after_bb2 -> after_bb3;
    after_bb3 [label="bb3:\n  %29 = Φ(2@bb1, 3@bb2) [var result]\n  br bb4\n"];
    after_bb3 -> after_bb4;
    after_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%29@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    after_bb4 -> after_bb5 [color=green];
    after_bb4 -> after_bb6 [color=red];
    after_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    after_bb5 -> after_bb4;
    after_bb6 [label="bb6:\n  %19 = const.i64 10\n  %20 = lt %0, %19\n  br_cond %20 ? bb7 : bb8\n"];
    after_bb6 -> after_bb7 [color=green];
    after_bb6 -> after_bb8 [color=red];
    after_bb7 [label="bb7:\n  %21 = function v1 [var factorial]\n  %23 = call %21(%33)\n  return %23\n"];
    after_bb8 [label="bb8:\n  %24 = function v1 [var factorial]\n  %26 = call %24(%33)\n  return %26\n"];
  }

}

CFG Debug Dump Before Hoist Pass
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %29 = Φ(2@bb1, 3@bb2) [var result]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%29@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %19 = const.i64 10
  %20 = lt %0, %19
  br_cond %20 ? bb7 : bb8


bb7: % preds = [bb6]
  %21 = function v1 [var factorial]
  %23 = call %21(%33)
  return %23


bb8: % preds = [bb6]
  %24 = function v1 [var factorial]
  %26 = call %24(%33)
  return %26



CFG Debug Dump After Hoist Pass
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %29 = Φ(2@bb1, 3@bb2) [var result]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%29@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br_cond %3 ? bb7 : bb8


bb7: % preds = [bb6]
  return %50


bb8: % preds = [bb6]
  return %50



CFG Graphviz Before and After After Hoist Pass:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb3\n"];
    before_bb1 -> before_bb3;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  %29 = Φ(2@bb1, 3@bb2) [var result]\n  br bb4\n"];
    before_bb3 -> before_bb4;
    before_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%29@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    before_bb4 -> before_bb5 [color=green];
    before_bb4 -> before_bb6 [color=red];
    before_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    before_bb5 -> before_bb4;
    before_bb6 [label="bb6:\n  %19 = const.i64 10\n  %20 = lt %0, %19\n  br_cond %20 ? bb7 : bb8\n"];
    before_bb6 -> before_bb7 [color=green];
    before_bb6 -> before_bb8 [color=red];
    before_bb7 [label="bb7:\n  %21 = function v1 [var factorial]\n  %23 = call %21(%33)\n  return %23\n"];
    before_bb8 [label="bb8:\n  %24 = function v1 [var factorial]\n  %26 = call %24(%33)\n  return %26\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb3\n"];
    after_bb1 -> after_bb3;
    after_bb2 [label="bb2:\n  br bb3\n"];
    after_bb2 -> after_bb3;
    after_bb3 [label="bb3:\n  %29 = Φ(2@bb1, 3@bb2) [var result]\n  br bb4\n"];
    after_bb3 -> after_bb4;
    after_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%29@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    after_bb4 -> after_bb5 [color=green];
    after_bb4 -> after_bb6 [color=red];
    after_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    after_bb5 -> after_bb4;
    after_bb6 [label="bb6:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br_cond %3 ? bb7 : bb8\n"];
    after_bb6 -> after_bb7 [color=green];
    after_bb6 -> after_bb8 [color=red];
    after_bb7 [label="bb7:\n  return %50\n"];
    after_bb8 [label="bb8:\n  return %50\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %29 = Φ(2@bb1, 3@bb2) [var result]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%29@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br_cond %3 ? bb7 : bb8


bb7: % preds = [bb6]
  return %50


bb8: % preds = [bb6]
  return %50



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%51@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br_cond %3 ? bb7 : bb8


bb7: % preds = [bb6]
  return %50


bb8: % preds = [bb6]
  return %50



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb3\n"];
    before_bb1 -> before_bb3;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  %29 = Φ(2@bb1, 3@bb2) [var result]\n  br bb4\n"];
    before_bb3 -> before_bb4;
    before_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%29@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    before_bb4 -> before_bb5 [color=green];
    before_bb4 -> before_bb6 [color=red];
    before_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    before_bb5 -> before_bb4;
    before_bb6 [label="bb6:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br_cond %3 ? bb7 : bb8\n"];
    before_bb6 -> before_bb7 [color=green];
    before_bb6 -> before_bb8 [color=red];
    before_bb7 [label="bb7:\n  return %50\n"];
    before_bb8 [label="bb8:\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br_cond %3 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb3\n"];
    after_bb1 -> after_bb3;
    after_bb2 [label="bb2:\n  br bb3\n"];
    after_bb2 -> after_bb3;
    after_bb3 [label="bb3:\n  br bb4\n"];
    after_bb3 -> after_bb4;
    after_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%51@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    after_bb4 -> after_bb5 [color=green];
    after_bb4 -> after_bb6 [color=red];
    after_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    after_bb5 -> after_bb4;
    after_bb6 [label="bb6:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br_cond %3 ? bb7 : bb8\n"];
    after_bb6 -> after_bb7 [color=green];
    after_bb6 -> after_bb8 [color=red];
    after_bb7 [label="bb7:\n  return %50\n"];
    after_bb8 [label="bb8:\n  return %50\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br_cond %3 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%51@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br_cond %3 ? bb7 : bb8


bb7: % preds = [bb6]
  return %50


bb8: % preds = [bb6]
  return %50



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br_cond %3 ? bb1 : bb1


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  br bb4


bb4: % preds = [bb3, bb5]
  %30 = Φ(0@bb3, %17@bb5) [var i]
  %33 = Φ(%51@bb3, %13@bb5) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb5 : bb6


bb5: % preds = [bb4]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb4


bb6: % preds = [bb4]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br_cond %3 ? bb7 : bb7


bb7: % preds = [bb6]
  return %50


bb8: % preds = [bb6]
  return %50



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br_cond %3 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb3\n"];
    before_bb1 -> before_bb3;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  br bb4\n"];
    before_bb3 -> before_bb4;
    before_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%51@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    before_bb4 -> before_bb5 [color=green];
    before_bb4 -> before_bb6 [color=red];
    before_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    before_bb5 -> before_bb4;
    before_bb6 [label="bb6:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br_cond %3 ? bb7 : bb8\n"];
    before_bb6 -> before_bb7 [color=green];
    before_bb6 -> before_bb8 [color=red];
    before_bb7 [label="bb7:\n  return %50\n"];
    before_bb8 [label="bb8:\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br_cond %3 ? bb1 : bb1\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb1 [color=red];
    after_bb1 [label="bb1:\n  br bb3\n"];
    after_bb1 -> after_bb3;
    after_bb2 [label="bb2:\n  br bb3\n"];
    after_bb2 -> after_bb3;
    after_bb3 [label="bb3:\n  br bb4\n"];
    after_bb3 -> after_bb4;
    after_bb4 [label="bb4:\n  %30 = Φ(0@bb3, %17@bb5) [var i]\n  %33 = Φ(%51@bb3, %13@bb5) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb5 : bb6\n"];
    after_bb4 -> after_bb5 [color=green];
    after_bb4 -> after_bb6 [color=red];
    after_bb5 [label="bb5:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb4\n"];
    after_bb5 -> after_bb4;
    after_bb6 [label="bb6:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br_cond %3 ? bb7 : bb7\n"];
    after_bb6 -> after_bb7 [color=green];
    after_bb6 -> after_bb7 [color=red];
    after_bb7 [label="bb7:\n  return %50\n"];
    after_bb8 [label="bb8:\n  return %50\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0]
  br bb2


bb2: % preds = [bb1]
  br bb3


bb3: % preds = [bb2, bb4]
  %30 = Φ(0@bb2, %17@bb4) [var i]
  %33 = Φ(%51@bb2, %13@bb4) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb4 : bb5


bb4: % preds = [bb3]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb3


bb5: % preds = [bb3]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  br bb6


bb6: % preds = [bb5]
  return %50



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    before_bb0 -> before_bb1;
    before_bb1 [label="bb1:\n  br bb2\n"];
    before_bb1 -> before_bb2;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  %30 = Φ(0@bb2, %17@bb4) [var i]\n  %33 = Φ(%51@bb2, %13@bb4) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb4 : bb5\n"];
    before_bb3 -> before_bb4 [color=green];
    before_bb3 -> before_bb5 [color=red];
    before_bb4 [label="bb4:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb3\n"];
    before_bb4 -> before_bb3;
    before_bb5 [label="bb5:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    after_bb0 -> after_bb1;
    after_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    after_bb1 -> after_bb2 [color=green];
    after_bb1 -> after_bb3 [color=red];
    after_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    after_bb2 -> after_bb1;
    after_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    before_bb0 -> before_bb1;
    before_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    before_bb1 -> before_bb2 [color=green];
    before_bb1 -> before_bb3 [color=red];
    before_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    before_bb2 -> before_bb1;
    before_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    after_bb0 -> after_bb1;
    after_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    after_bb1 -> after_bb2 [color=green];
    after_bb1 -> after_bb3 [color=red];
    after_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    after_bb2 -> after_bb1;
    after_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    before_bb0 -> before_bb1;
    before_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    before_bb1 -> before_bb2 [color=green];
    before_bb1 -> before_bb3 [color=red];
    before_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    before_bb2 -> before_bb1;
    before_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    after_bb0 -> after_bb1;
    after_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    after_bb1 -> after_bb2 [color=green];
    after_bb1 -> after_bb3 [color=red];
    after_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    after_bb2 -> after_bb1;
    after_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1


bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3


bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1


bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    before_bb0 -> before_bb1;
    before_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    before_bb1 -> before_bb2 [color=green];
    before_bb1 -> before_bb3 [color=red];
    before_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    before_bb2 -> before_bb1;
    before_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var x]\n  %2 = const.i64 10\n  %3 = lt %0, %2\n  %52 = const.i64 2 [var result]\n  %53 = const.i64 3 [var result]\n  %51 = select %3, %52, %53 [var result]\n  br bb1\n"];
    after_bb0 -> after_bb1;
    after_bb1 [label="bb1:\n  %30 = Φ(0@bb0, %17@bb2) [var i]\n  %33 = Φ(%51@bb0, %13@bb2) [var result]\n  %10 = const.i64 3\n  %11 = lt %30, %10\n  br_cond %11 ? bb2 : bb3\n"];
    after_bb1 -> after_bb2 [color=green];
    after_bb1 -> after_bb3 [color=red];
    after_bb2 [label="bb2:\n  %13 = add %33, %30 [var result]\n  %16 = const.i64 1\n  %17 = add %30, %16\n  br bb1\n"];
    after_bb2 -> after_bb1;
    after_bb3 [label="bb3:\n  %49 = function v1 [var factorial]\n  %50 = call %49(%33)\n  return %50\n"];
  }

}

CFG for function f:
bb0: % preds = []
  %0 = param[0] [var x]
  %2 = const.i64 10
  %3 = lt %0, %2
  %52 = const.i64 2 [var result]
  %53 = const.i64 3 [var result]
  %51 = select %3, %52, %53 [var result]
  br bb1

bb1: % preds = [bb0, bb2]
  %30 = Φ(0@bb0, %17@bb2) [var i]
  %33 = Φ(%51@bb0, %13@bb2) [var result]
  %10 = const.i64 3
  %11 = lt %30, %10
  br_cond %11 ? bb2 : bb3

bb2: % preds = [bb1]
  %13 = add %33, %30 [var result]
  %16 = const.i64 1
  %17 = add %30, %16
  br bb1

bb3: % preds = [bb1]
  %49 = function v1 [var factorial]
  %50 = call %49(%33)
  return %50


CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Hoist Pass
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Hoist Pass
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Hoist Pass:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = function v5 [var f]\n  %1 = const.i64 5\n  %2 = call %0(%1)\n  return %2\n"];
  }

}

CFG for function main:
bb0: % preds = []
  %0 = function v5 [var f]
  %1 = const.i64 5
  %2 = call %0(%1)
  return %2


Generated LLVM IR:
; ModuleID = 'module'
source_filename = "module"

define i64 @factorial(i64 %0) {
bb0:
  %cmp = icmp sle i64 %0, 1
  br i1 %cmp, label %bb1, label %bb2

bb1:                                              ; preds = %bb0
  ret i64 1

bb2:                                              ; preds = %bb0
  %sub = sub i64 %0, 1
  %call = call i64 @factorial(i64 %sub)
  %mul = mul i64 %0, %call
  ret i64 %mul
}

define i64 @f(i64 %0) {
bb0:
  %cmp = icmp slt i64 %0, 10
  %select = select i1 %cmp, i64 2, i64 3
  br label %bb1

bb1:                                              ; preds = %bb2, %bb0
  %phi = phi i64 [ 0, %bb0 ], [ %add3, %bb2 ]
  %phi1 = phi i64 [ %select, %bb0 ], [ %add, %bb2 ]
  %cmp2 = icmp slt i64 %phi, 3
  br i1 %cmp2, label %bb2, label %bb3

bb2:                                              ; preds = %bb1
  %add = add i64 %phi1, %phi
  %add3 = add i64 %phi, 1
  br label %bb1

bb3:                                              ; preds = %bb1
  %call = call i64 @factorial(i64 %phi1)
  ret i64 %call
}

define i64 @main() {
bb0:
  %call = call i64 @f(i64 5)
  ret i64 %call
}

Optimized LLVM IR:
; ModuleID = 'module'
source_filename = "module"

; Function Attrs: nofree norecurse nosync nounwind memory(none)
define i64 @factorial(i64 %0) local_unnamed_addr #0 {
bb0:
  %cmp1 = icmp slt i64 %0, 2
  br i1 %cmp1, label %common.ret, label %bb2

common.ret:                                       ; preds = %bb2, %bb0
  %accumulator.tr.lcssa = phi i64 [ 1, %bb0 ], [ %mul, %bb2 ]
  ret i64 %accumulator.tr.lcssa

bb2:                                              ; preds = %bb0, %bb2
  %.tr3 = phi i64 [ %sub, %bb2 ], [ %0, %bb0 ]
  %accumulator.tr2 = phi i64 [ %mul, %bb2 ], [ 1, %bb0 ]
  %sub = add nsw i64 %.tr3, -1
  %mul = mul i64 %.tr3, %accumulator.tr2
  %cmp = icmp samesign ult i64 %.tr3, 3
  br i1 %cmp, label %common.ret, label %bb2
}

; Function Attrs: nofree norecurse nosync nounwind memory(none)
define i64 @f(i64 %0) local_unnamed_addr #0 {
bb2.i.preheader:
  %cmp = icmp slt i64 %0, 10
  %1 = select i1 %cmp, i64 5, i64 6
  br label %bb2.i

bb2.i:                                            ; preds = %bb2.i.preheader, %bb2.i
  %.tr3.i = phi i64 [ %sub.i, %bb2.i ], [ %1, %bb2.i.preheader ]
  %accumulator.tr2.i = phi i64 [ %mul.i, %bb2.i ], [ 1, %bb2.i.preheader ]
  %sub.i = add nsw i64 %.tr3.i, -1
  %mul.i = mul i64 %accumulator.tr2.i, %.tr3.i
  %cmp.i = icmp samesign ult i64 %.tr3.i, 3
  br i1 %cmp.i, label %factorial.exit, label %bb2.i

factorial.exit:                                   ; preds = %bb2.i
  ret i64 %mul.i
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind willreturn memory(none)
define noundef i64 @main() local_unnamed_addr #1 {
bb0:
  ret i64 120
}

attributes #0 = { nofree norecurse nosync nounwind memory(none) }
attributes #1 = { mustprogress nofree norecurse nosync nounwind willreturn memory(none) }


STDERR:
