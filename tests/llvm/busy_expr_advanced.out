STDOUT:
CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  %16 = sub %0, %1
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  %23 = div %0, %1
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = Φ(%23@bb3, %10@bb4) [var z]
  %27 = sub %0, %1
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%16@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %27@bb5) [var y]
  %59 = Φ(%10@bb1, %44@bb5) [var z]
  %31 = mul %45, %46
  %33 = add %31, %59
  return %33



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  %16 = sub %0, %1
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  %23 = div %0, %1
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = Φ(%23@bb3, %10@bb4) [var z]
  %27 = sub %0, %1
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%16@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %27@bb5) [var y]
  %59 = Φ(%10@bb1, %44@bb5) [var z]
  %31 = mul %45, %46
  %33 = add %31, %59
  return %33



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  %16 = sub %0, %1\n  br bb6\n"];
    before_bb1 -> before_bb6;
    before_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    before_bb2 -> before_bb3 [color=green];
    before_bb2 -> before_bb4 [color=red];
    before_bb3 [label="bb3:\n  %23 = div %0, %1\n  br bb5\n"];
    before_bb3 -> before_bb5;
    before_bb4 [label="bb4:\n  br bb5\n"];
    before_bb4 -> before_bb5;
    before_bb5 [label="bb5:\n  %44 = Φ(%23@bb3, %10@bb4) [var z]\n  %27 = sub %0, %1\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  %45 = Φ(%16@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %27@bb5) [var y]\n  %59 = Φ(%10@bb1, %44@bb5) [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %59\n  return %33\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  %16 = sub %0, %1\n  br bb6\n"];
    after_bb1 -> after_bb6;
    after_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    after_bb2 -> after_bb3 [color=green];
    after_bb2 -> after_bb4 [color=red];
    after_bb3 [label="bb3:\n  %23 = div %0, %1\n  br bb5\n"];
    after_bb3 -> after_bb5;
    after_bb4 [label="bb4:\n  br bb5\n"];
    after_bb4 -> after_bb5;
    after_bb5 [label="bb5:\n  %44 = Φ(%23@bb3, %10@bb4) [var z]\n  %27 = sub %0, %1\n  br bb6\n"];
    after_bb5 -> after_bb6;
    after_bb6 [label="bb6:\n  %45 = Φ(%16@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %27@bb5) [var y]\n  %59 = Φ(%10@bb1, %44@bb5) [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %59\n  return %33\n"];
  }

}

CFG Debug Dump Before Hoist Pass
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  %16 = sub %0, %1
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  %23 = div %0, %1
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = Φ(%23@bb3, %10@bb4) [var z]
  %27 = sub %0, %1
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%16@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %27@bb5) [var y]
  %59 = Φ(%10@bb1, %44@bb5) [var z]
  %31 = mul %45, %46
  %33 = add %31, %59
  return %33



CFG Debug Dump After Hoist Pass
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = Φ(%10@bb3, %10@bb4) [var z]
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%64@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %64@bb5) [var y]
  %59 = Φ(%10@bb1, %44@bb5) [var z]
  %31 = mul %45, %46
  %33 = add %31, %59
  return %33



CFG Graphviz Before and After After Hoist Pass:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  %16 = sub %0, %1\n  br bb6\n"];
    before_bb1 -> before_bb6;
    before_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    before_bb2 -> before_bb3 [color=green];
    before_bb2 -> before_bb4 [color=red];
    before_bb3 [label="bb3:\n  %23 = div %0, %1\n  br bb5\n"];
    before_bb3 -> before_bb5;
    before_bb4 [label="bb4:\n  br bb5\n"];
    before_bb4 -> before_bb5;
    before_bb5 [label="bb5:\n  %44 = Φ(%23@bb3, %10@bb4) [var z]\n  %27 = sub %0, %1\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  %45 = Φ(%16@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %27@bb5) [var y]\n  %59 = Φ(%10@bb1, %44@bb5) [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %59\n  return %33\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb6\n"];
    after_bb1 -> after_bb6;
    after_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    after_bb2 -> after_bb3 [color=green];
    after_bb2 -> after_bb4 [color=red];
    after_bb3 [label="bb3:\n  br bb5\n"];
    after_bb3 -> after_bb5;
    after_bb4 [label="bb4:\n  br bb5\n"];
    after_bb4 -> after_bb5;
    after_bb5 [label="bb5:\n  %44 = Φ(%10@bb3, %10@bb4) [var z]\n  br bb6\n"];
    after_bb5 -> after_bb6;
    after_bb6 [label="bb6:\n  %45 = Φ(%64@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %64@bb5) [var y]\n  %59 = Φ(%10@bb1, %44@bb5) [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %59\n  return %33\n"];
  }

}

CFG Debug Dump Before Phi to Select
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = %10 [var z]
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%64@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %64@bb5) [var y]
  %59 = %10 [var z]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Debug Dump After Phi to Select
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = %10 [var z]
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%64@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %64@bb5) [var y]
  %59 = %10 [var z]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Graphviz Before and After After Phi to Select:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb6\n"];
    before_bb1 -> before_bb6;
    before_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    before_bb2 -> before_bb3 [color=green];
    before_bb2 -> before_bb4 [color=red];
    before_bb3 [label="bb3:\n  br bb5\n"];
    before_bb3 -> before_bb5;
    before_bb4 [label="bb4:\n  br bb5\n"];
    before_bb4 -> before_bb5;
    before_bb5 [label="bb5:\n  %44 = %10 [var z]\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  %45 = Φ(%64@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %64@bb5) [var y]\n  %59 = %10 [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb6\n"];
    after_bb1 -> after_bb6;
    after_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    after_bb2 -> after_bb3 [color=green];
    after_bb2 -> after_bb4 [color=red];
    after_bb3 [label="bb3:\n  br bb5\n"];
    after_bb3 -> after_bb5;
    after_bb4 [label="bb4:\n  br bb5\n"];
    after_bb4 -> after_bb5;
    after_bb5 [label="bb5:\n  %44 = %10 [var z]\n  br bb6\n"];
    after_bb5 -> after_bb6;
    after_bb6 [label="bb6:\n  %45 = Φ(%64@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %64@bb5) [var y]\n  %59 = %10 [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

}

CFG Debug Dump Before Block Deduplication
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb4


bb3: % preds = [bb2]
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = %10 [var z]
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%64@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %64@bb5) [var y]
  %59 = %10 [var z]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Debug Dump After Block Deduplication
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb6


bb2: % preds = [bb0]
  %20 = gt %0, %1
  br_cond %20 ? bb3 : bb3


bb3: % preds = [bb2]
  br bb5


bb4: % preds = [bb2]
  br bb5


bb5: % preds = [bb3, bb4]
  %44 = %10 [var z]
  br bb6


bb6: % preds = [bb1, bb5]
  %45 = Φ(%64@bb1, %4@bb5) [var x]
  %46 = Φ(%7@bb1, %64@bb5) [var y]
  %59 = %10 [var z]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Graphviz Before and After After Block Deduplication:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb6\n"];
    before_bb1 -> before_bb6;
    before_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb4\n"];
    before_bb2 -> before_bb3 [color=green];
    before_bb2 -> before_bb4 [color=red];
    before_bb3 [label="bb3:\n  br bb5\n"];
    before_bb3 -> before_bb5;
    before_bb4 [label="bb4:\n  br bb5\n"];
    before_bb4 -> before_bb5;
    before_bb5 [label="bb5:\n  %44 = %10 [var z]\n  br bb6\n"];
    before_bb5 -> before_bb6;
    before_bb6 [label="bb6:\n  %45 = Φ(%64@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %64@bb5) [var y]\n  %59 = %10 [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb6\n"];
    after_bb1 -> after_bb6;
    after_bb2 [label="bb2:\n  %20 = gt %0, %1\n  br_cond %20 ? bb3 : bb3\n"];
    after_bb2 -> after_bb3 [color=green];
    after_bb2 -> after_bb3 [color=red];
    after_bb3 [label="bb3:\n  br bb5\n"];
    after_bb3 -> after_bb5;
    after_bb4 [label="bb4:\n  br bb5\n"];
    after_bb4 -> after_bb5;
    after_bb5 [label="bb5:\n  %44 = %10 [var z]\n  br bb6\n"];
    after_bb5 -> after_bb6;
    after_bb6 [label="bb6:\n  %45 = Φ(%64@bb1, %4@bb5) [var x]\n  %46 = Φ(%7@bb1, %64@bb5) [var y]\n  %59 = %10 [var z]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

}

CFG Debug Dump Before Block Inliner
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb5


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb2]
  br bb4


bb4: % preds = [bb3]
  br bb5


bb5: % preds = [bb1, bb4]
  %45 = Φ(%64@bb1, %4@bb4) [var x]
  %46 = Φ(%7@bb1, %64@bb4) [var y]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Debug Dump After Block Inliner
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2


bb1: % preds = [bb0]
  br bb3


bb2: % preds = [bb0]
  br bb3


bb3: % preds = [bb1, bb2]
  %45 = Φ(%64@bb1, %4@bb2) [var x]
  %46 = Φ(%7@bb1, %64@bb2) [var y]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33



CFG Graphviz Before and After After Block Inliner:
digraph CFG {
  node [shape=box, fontname="Courier New", fontsize=10];
  edge [fontname="Courier New", fontsize=9];

  subgraph cluster_before {
    before_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    before_bb0 -> before_bb1 [color=green];
    before_bb0 -> before_bb2 [color=red];
    before_bb1 [label="bb1:\n  br bb5\n"];
    before_bb1 -> before_bb5;
    before_bb2 [label="bb2:\n  br bb3\n"];
    before_bb2 -> before_bb3;
    before_bb3 [label="bb3:\n  br bb4\n"];
    before_bb3 -> before_bb4;
    before_bb4 [label="bb4:\n  br bb5\n"];
    before_bb4 -> before_bb5;
    before_bb5 [label="bb5:\n  %45 = Φ(%64@bb1, %4@bb4) [var x]\n  %46 = Φ(%7@bb1, %64@bb4) [var y]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

  subgraph cluster_after {
    after_bb0 [label="bb0:\n  %0 = param[0] [var a]\n  %1 = param[1] [var b]\n  %4 = add %0, %1\n  %7 = mul %0, %1\n  %10 = div %0, %1\n  %13 = lt %0, %1\n  %64 = sub %0, %1\n  br_cond %13 ? bb1 : bb2\n"];
    after_bb0 -> after_bb1 [color=green];
    after_bb0 -> after_bb2 [color=red];
    after_bb1 [label="bb1:\n  br bb3\n"];
    after_bb1 -> after_bb3;
    after_bb2 [label="bb2:\n  br bb3\n"];
    after_bb2 -> after_bb3;
    after_bb3 [label="bb3:\n  %45 = Φ(%64@bb1, %4@bb2) [var x]\n  %46 = Φ(%7@bb1, %64@bb2) [var y]\n  %31 = mul %45, %46\n  %33 = add %31, %10\n  return %33\n"];
  }

}

CFG for function f:
bb0: % preds = []
  %0 = param[0] [var a]
  %1 = param[1] [var b]
  %4 = add %0, %1
  %7 = mul %0, %1
  %10 = div %0, %1
  %13 = lt %0, %1
  %64 = sub %0, %1
  br_cond %13 ? bb1 : bb2

bb1: % preds = [bb0]
  br bb3

bb2: % preds = [bb0]
  br bb3

bb3: % preds = [bb1, bb2]
  %45 = Φ(%64@bb1, %4@bb2) [var x]
  %46 = Φ(%7@bb1, %64@bb2) [var y]
  %31 = mul %45, %46
  %33 = add %31, %10
  return %33


Generated LLVM IR:
; ModuleID = 'module'
source_filename = "module"

define i64 @f(i64 %0, i64 %1) {
bb0:
  %add = add i64 %0, %1
  %mul = mul i64 %0, %1
  %idiv = sdiv i64 %0, %1
  %cmp = icmp slt i64 %0, %1
  %sub = sub i64 %0, %1
  br i1 %cmp, label %bb1, label %bb2

bb1:                                              ; preds = %bb0
  br label %bb3

bb2:                                              ; preds = %bb0
  br label %bb3

bb3:                                              ; preds = %bb2, %bb1
  %phi = phi i64 [ %sub, %bb1 ], [ %add, %bb2 ]
  %phi1 = phi i64 [ %mul, %bb1 ], [ %sub, %bb2 ]
  %mul2 = mul i64 %phi, %phi1
  %add3 = add i64 %mul2, %idiv
  ret i64 %add3
}

Optimized LLVM IR:
; ModuleID = 'module'
source_filename = "module"

; Function Attrs: mustprogress nofree norecurse nosync nounwind willreturn memory(none)
define i64 @f(i64 %0, i64 %1) local_unnamed_addr #0 {
bb0:
  %add = add i64 %1, %0
  %mul = mul i64 %1, %0
  %idiv = sdiv i64 %0, %1
  %cmp = icmp slt i64 %0, %1
  %sub = sub i64 %0, %1
  %sub.add = select i1 %cmp, i64 %sub, i64 %add
  %mul.sub = select i1 %cmp, i64 %mul, i64 %sub
  %mul2 = mul i64 %sub.add, %mul.sub
  %add3 = add i64 %idiv, %mul2
  ret i64 %add3
}

attributes #0 = { mustprogress nofree norecurse nosync nounwind willreturn memory(none) }


STDERR:
